import{D as gt,E as jt,r as j,p as e,a2 as F,X as N,aI as Q,B as xt,y as Y,a_ as ut,T as U,aP as H,C as ht,S as yt,H as bt,R as ft,Q as Nt,J as vt,x as wt,K as Tt,b0 as Ct}from"./index-DaTQeIrM.js";import{A as C}from"./alert-circle-3gdbj3DL.js";import{C as _}from"./check-circle-C7Swk4iC.js";import{D as At}from"./download-sNUxQ2Ce.js";import{P as pt}from"./pen-square-CD6kqgaB.js";import{F as Et}from"./filter-Dd-_7AND.js";import{P as Dt}from"./plus-CH9F90nm.js";import{E as qt}from"./eye-DQ0qHB88.js";import{T as Lt}from"./trash-2-NO2IJ0Re.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=gt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),kt=jt.injectEndpoints({endpoints:s=>({generateBalanceSheet:s.mutation({query:a=>({url:"balance-sheets/generate",method:"post",data:a}),invalidatesTags:[{type:"Reports",id:"BALANCE_SHEETS"}]}),getBalanceSheets:s.query({query:a=>({url:"balance-sheets",method:"get",params:a}),providesTags:a=>{var l,r;return(l=a==null?void 0:a.data)!=null&&l.balanceSheets||a!=null&&a.balanceSheets?[...(((r=a.data)==null?void 0:r.balanceSheets)||a.balanceSheets).map(({_id:p,id:n})=>({type:"Reports",id:p||n})),{type:"Reports",id:"BALANCE_SHEETS"}]:[{type:"Reports",id:"BALANCE_SHEETS"}]}}),getBalanceSheet:s.query({query:a=>({url:`balance-sheets/${a}`,method:"get"}),providesTags:(a,l,r)=>[{type:"Reports",id:r}]}),updateBalanceSheet:s.mutation({query:({id:a,...l})=>({url:`balance-sheets/${a}`,method:"put",data:l}),invalidatesTags:(a,l,{id:r})=>[{type:"Reports",id:r},{type:"Reports",id:"BALANCE_SHEETS"}]}),updateBalanceSheetStatus:s.mutation({query:({id:a,...l})=>({url:`balance-sheets/${a}/status`,method:"put",data:l}),invalidatesTags:(a,l,{id:r})=>[{type:"Reports",id:r},{type:"Reports",id:"BALANCE_SHEETS"}]}),deleteBalanceSheet:s.mutation({query:a=>({url:`balance-sheets/${a}`,method:"delete"}),invalidatesTags:(a,l,r)=>[{type:"Reports",id:r},{type:"Reports",id:"BALANCE_SHEETS"}]}),getComparison:s.query({query:({id:a,type:l="previous"})=>({url:`balance-sheets/${a}/comparison`,method:"get",params:{type:l}}),providesTags:(a,l,{id:r})=>[{type:"Reports",id:`COMPARISON_${r}`}]}),getBalanceSheetStats:s.query({query:a=>({url:"balance-sheets/stats",method:"get",params:a}),providesTags:[{type:"Reports",id:"BALANCE_SHEETS_STATS"}]}),getLatestBalanceSheet:s.query({query:a=>({url:"balance-sheets/latest",method:"get",params:a}),providesTags:[{type:"Reports",id:"BALANCE_SHEETS_LATEST"}]}),addAuditEntry:s.mutation({query:({id:a,...l})=>({url:`balance-sheets/${a}/audit`,method:"post",data:l}),invalidatesTags:(a,l,{id:r})=>[{type:"Reports",id:r}]})}),overrideExisting:!1}),{useGenerateBalanceSheetMutation:St,useGetBalanceSheetsQuery:Rt,useGetBalanceSheetQuery:Bt,useUpdateBalanceSheetStatusMutation:Pt,useDeleteBalanceSheetMutation:_t,useGetComparisonQuery:Ft,useGetBalanceSheetStatsQuery:It}=kt,$t=({isOpen:s,onClose:a,onSuccess:l})=>{const[r,p]=j.useState({statementDate:new Date().toISOString().split("T")[0],periodType:"monthly"}),[n,y]=j.useState({}),[b,{isLoading:d}]=St(),g=()=>{const c={};return r.statementDate?new Date(r.statementDate)>new Date&&(c.statementDate="Statement date cannot be in the future"):c.statementDate="Statement date is required",r.periodType||(c.periodType="Period type is required"),y(c),Object.keys(c).length===0},w=async c=>{if(c.preventDefault(),!!g())try{await b({statementDate:r.statementDate,periodType:r.periodType}).unwrap(),xt("Balance sheet generated successfully"),l()}catch(t){Y(t,"Generate Balance Sheet")}},o=(c,t)=>{p(f=>({...f,[c]:t})),n[c]&&y(f=>({...f,[c]:""}))},T=c=>{switch(c){case"monthly":return"Generate a balance sheet for the current month";case"quarterly":return"Generate a balance sheet for the current quarter";case"yearly":return"Generate a balance sheet for the current year";default:return""}},A=c=>{switch(c){case"monthly":return"2-3 minutes";case"quarterly":return"3-5 minutes";case"yearly":return"5-10 minutes";default:return"2-3 minutes"}};return s?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg mr-3",children:e.jsx(F,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Generate Balance Sheet"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Create a new financial position statement"})]})]}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",disabled:d,children:e.jsx(N,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Statement Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:r.statementDate,onChange:c=>o("statementDate",c.target.value),className:`block w-full pl-10 pr-3 py-2 border rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${n.statementDate?"border-red-300":"border-gray-300"}`,disabled:d})]}),n.statementDate&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(C,{className:"h-4 w-4 mr-1"}),n.statementDate]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The date for which the balance sheet will be generated"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Period Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:r.periodType,onChange:c=>o("periodType",c.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${n.periodType?"border-red-300":"border-gray-300"}`,disabled:d,children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]}),n.periodType&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(C,{className:"h-4 w-4 mr-1"}),n.periodType]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:T(r.periodType)})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:e.jsxs("div",{className:"flex",children:[e.jsx(C,{className:"h-5 w-5 text-blue-400 mt-0.5 mr-2"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[e.jsx("p",{className:"font-medium",children:"Generation Process"}),e.jsxs("ul",{className:"mt-1 space-y-1 text-xs",children:[e.jsx("li",{children:"• Calculates assets from inventory, cash, and receivables"}),e.jsx("li",{children:"• Determines liabilities from payables and debt"}),e.jsx("li",{children:"• Computes equity from capital and retained earnings"}),e.jsxs("li",{children:["• Estimated time: ",A(r.periodType)]})]})]})]})}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:d,children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:d,children:d?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):"Generate Balance Sheet"})]})]})]})}):null},Gt=({balanceSheet:s,isOpen:a,onClose:l,onStatusUpdate:r,isLoading:p})=>{var I,$,G,M,D,x,v,q,L,i,u,k,S,R,B,J,K,X,V,W,Z,ee,se,te,ae,le,ie,re,ne,de,ce,oe,me,xe,ue,he,pe,ge,je,ye,be,fe,Ne,ve,we,Te,Ce,Ae,Ee,De,qe,Le,ke,Se,Re,Be,Pe,_e,Fe,Ie,$e,Ge,Me,Ue,He,Oe,ze,Qe,Ye,Je,Ke,Xe,Ve,We,Ze,es,ss,ts,as,ls,is,rs,ns,ds,cs,os,ms,xs,us,hs,ps,gs,js,ys,bs,fs,Ns,vs,ws,Ts,Cs,As,Es,Ds,qs,Ls,ks,Ss,Rs,Bs,Ps,_s,Fs,Is,$s,Gs,Ms,Us,Hs,Os,zs,Qs,Ys,Js,Ks,Xs,Vs,Ws,Zs,et,st,tt,at,lt,it,rt,nt,dt,ct,ot;const[n,y]=j.useState("overview"),[b,d]=j.useState(!1),[g,w]=j.useState({status:"",notes:""}),{data:o,isLoading:T}=Ft({id:s==null?void 0:s._id,type:"previous"},{skip:!a||!(s!=null&&s._id)}),A=m=>{switch(m){case"draft":return e.jsx(pt,{className:"h-4 w-4 text-gray-500"});case"review":return e.jsx(ht,{className:"h-4 w-4 text-yellow-500"});case"approved":return e.jsx(_,{className:"h-4 w-4 text-green-500"});case"final":return e.jsx(_,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(C,{className:"h-4 w-4 text-gray-500"})}},c=m=>{switch(m){case"draft":return"bg-gray-100 text-gray-800";case"review":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"final":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},t=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(m||0),f=m=>`${(m||0).toFixed(1)}%`,O=m=>{m.preventDefault(),r(g.status,g.notes),d(!1),w({status:"",notes:""})},h=m=>m>0?e.jsx(U,{className:"h-4 w-4 text-green-500"}):m<0?e.jsx(H,{className:"h-4 w-4 text-red-500"}):e.jsx("div",{className:"h-4 w-4"}),E=m=>m>0?"text-green-600":m<0?"text-red-600":"text-gray-600";if(!a||!s)return null;const z=[{id:"overview",label:"Overview",icon:ut},{id:"assets",label:"Assets",icon:U},{id:"liabilities",label:"Liabilities",icon:H},{id:"equity",label:"Equity",icon:mt},{id:"ratios",label:"Ratios",icon:F}];return e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-6xl shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg mr-4",children:e.jsx(F,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:s.statementNumber}),e.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(s.statementDate).toLocaleDateString()," •",e.jsx("span",{className:"capitalize ml-1",children:s.periodType})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${c(s.status)}`,children:[A(s.status),e.jsx("span",{className:"ml-2 capitalize",children:s.status})]}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600",children:e.jsx(N,{className:"h-6 w-6"})})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:z.map(m=>{const P=m.icon;return e.jsxs("button",{onClick:()=>y(m.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${n===m.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),m.label]},m.id)})})}),e.jsxs("div",{className:"space-y-6",children:[n==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-lg mr-3",children:e.jsx(U,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Assets"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t((I=s.assets)==null?void 0:I.totalAssets)})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-50 rounded-lg mr-3",children:e.jsx(H,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Liabilities"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t(($=s.liabilities)==null?void 0:$.totalLiabilities)})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg mr-3",children:e.jsx(mt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Equity"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t((G=s.equity)==null?void 0:G.totalEquity)})]})]})})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${s.isBalanced?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[e.jsxs("div",{className:"flex items-center",children:[s.isBalanced?e.jsx(_,{className:"h-5 w-5 text-green-500 mr-2"}):e.jsx(C,{className:"h-5 w-5 text-red-500 mr-2"}),e.jsx("span",{className:`font-medium ${s.isBalanced?"text-green-800":"text-red-800"}`,children:s.isBalanced?"Balance Sheet is Balanced":"Balance Sheet is Not Balanced"})]}),e.jsxs("p",{className:`text-sm mt-1 ${s.isBalanced?"text-green-700":"text-red-700"}`,children:["Assets: ",t((M=s.assets)==null?void 0:M.totalAssets)," = Liabilities: ",t((D=s.liabilities)==null?void 0:D.totalLiabilities)," + Equity: ",t((x=s.equity)==null?void 0:x.totalEquity)]})]}),o&&e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Comparison with Previous Period"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Assets"}),h((L=(q=(v=o.changes)==null?void 0:v.assets)==null?void 0:q.totalAssets)==null?void 0:L.change)]}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:t((k=(u=(i=o.changes)==null?void 0:i.assets)==null?void 0:u.totalAssets)==null?void 0:k.current)}),e.jsxs("p",{className:`text-sm ${E((B=(R=(S=o.changes)==null?void 0:S.assets)==null?void 0:R.totalAssets)==null?void 0:B.change)}`,children:[h((X=(K=(J=o.changes)==null?void 0:J.assets)==null?void 0:K.totalAssets)==null?void 0:X.change),e.jsxs("span",{className:"ml-1",children:[t((Z=(W=(V=o.changes)==null?void 0:V.assets)==null?void 0:W.totalAssets)==null?void 0:Z.change),"(",f((te=(se=(ee=o.changes)==null?void 0:ee.assets)==null?void 0:se.totalAssets)==null?void 0:te.percentageChange),")"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Liabilities"}),h((ie=(le=(ae=o.changes)==null?void 0:ae.liabilities)==null?void 0:le.totalLiabilities)==null?void 0:ie.change)]}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:t((de=(ne=(re=o.changes)==null?void 0:re.liabilities)==null?void 0:ne.totalLiabilities)==null?void 0:de.current)}),e.jsxs("p",{className:`text-sm ${E((me=(oe=(ce=o.changes)==null?void 0:ce.liabilities)==null?void 0:oe.totalLiabilities)==null?void 0:me.change)}`,children:[h((he=(ue=(xe=o.changes)==null?void 0:xe.liabilities)==null?void 0:ue.totalLiabilities)==null?void 0:he.change),e.jsxs("span",{className:"ml-1",children:[t((je=(ge=(pe=o.changes)==null?void 0:pe.liabilities)==null?void 0:ge.totalLiabilities)==null?void 0:je.change),"(",f((fe=(be=(ye=o.changes)==null?void 0:ye.liabilities)==null?void 0:be.totalLiabilities)==null?void 0:fe.percentageChange),")"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Equity"}),h((we=(ve=(Ne=o.changes)==null?void 0:Ne.equity)==null?void 0:ve.totalEquity)==null?void 0:we.change)]}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:t((Ae=(Ce=(Te=o.changes)==null?void 0:Te.equity)==null?void 0:Ce.totalEquity)==null?void 0:Ae.current)}),e.jsxs("p",{className:`text-sm ${E((qe=(De=(Ee=o.changes)==null?void 0:Ee.equity)==null?void 0:De.totalEquity)==null?void 0:qe.change)}`,children:[h((Se=(ke=(Le=o.changes)==null?void 0:Le.equity)==null?void 0:ke.totalEquity)==null?void 0:Se.change),e.jsxs("span",{className:"ml-1",children:[t((Pe=(Be=(Re=o.changes)==null?void 0:Re.equity)==null?void 0:Be.totalEquity)==null?void 0:Pe.change),"(",f((Ie=(Fe=(_e=o.changes)==null?void 0:_e.equity)==null?void 0:Fe.totalEquity)==null?void 0:Ie.percentageChange),")"]})]})]})]})]})]}),n==="assets"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Assets Breakdown"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Current Assets"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Cash and Cash Equivalents"}),e.jsx("span",{className:"text-sm font-medium",children:t((Me=(Ge=($e=s.assets)==null?void 0:$e.currentAssets)==null?void 0:Ge.cashAndCashEquivalents)==null?void 0:Me.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Accounts Receivable"}),e.jsx("span",{className:"text-sm font-medium",children:t((Oe=(He=(Ue=s.assets)==null?void 0:Ue.currentAssets)==null?void 0:He.accountsReceivable)==null?void 0:Oe.netReceivables)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Inventory"}),e.jsx("span",{className:"text-sm font-medium",children:t((Ye=(Qe=(ze=s.assets)==null?void 0:ze.currentAssets)==null?void 0:Qe.inventory)==null?void 0:Ye.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Prepaid Expenses"}),e.jsx("span",{className:"text-sm font-medium",children:t((Ke=(Je=s.assets)==null?void 0:Je.currentAssets)==null?void 0:Ke.prepaidExpenses)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total Current Assets"}),e.jsx("span",{className:"text-sm font-bold",children:t((Ve=(Xe=s.assets)==null?void 0:Xe.currentAssets)==null?void 0:Ve.totalCurrentAssets)})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Fixed Assets"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Property, Plant & Equipment"}),e.jsx("span",{className:"text-sm font-medium",children:t((es=(Ze=(We=s.assets)==null?void 0:We.fixedAssets)==null?void 0:Ze.propertyPlantEquipment)==null?void 0:es.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Less: Accumulated Depreciation"}),e.jsxs("span",{className:"text-sm font-medium",children:["(",t((ts=(ss=s.assets)==null?void 0:ss.fixedAssets)==null?void 0:ts.accumulatedDepreciation),")"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Net Property, Plant & Equipment"}),e.jsx("span",{className:"text-sm font-medium",children:t((ls=(as=s.assets)==null?void 0:as.fixedAssets)==null?void 0:ls.netPropertyPlantEquipment)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Intangible Assets"}),e.jsx("span",{className:"text-sm font-medium",children:t((ns=(rs=(is=s.assets)==null?void 0:is.fixedAssets)==null?void 0:rs.intangibleAssets)==null?void 0:ns.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Long-term Investments"}),e.jsx("span",{className:"text-sm font-medium",children:t((cs=(ds=s.assets)==null?void 0:ds.fixedAssets)==null?void 0:cs.longTermInvestments)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total Fixed Assets"}),e.jsx("span",{className:"text-sm font-bold",children:t((ms=(os=s.assets)==null?void 0:os.fixedAssets)==null?void 0:ms.totalFixedAssets)})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-blue-900",children:"TOTAL ASSETS"}),e.jsx("span",{className:"text-lg font-bold text-blue-900",children:t((xs=s.assets)==null?void 0:xs.totalAssets)})]})})]}),n==="liabilities"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Liabilities Breakdown"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Current Liabilities"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Accounts Payable"}),e.jsx("span",{className:"text-sm font-medium",children:t((ps=(hs=(us=s.liabilities)==null?void 0:us.currentLiabilities)==null?void 0:hs.accountsPayable)==null?void 0:ps.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Accrued Expenses"}),e.jsx("span",{className:"text-sm font-medium",children:t((ys=(js=(gs=s.liabilities)==null?void 0:gs.currentLiabilities)==null?void 0:js.accruedExpenses)==null?void 0:ys.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Short-term Debt"}),e.jsx("span",{className:"text-sm font-medium",children:t((Ns=(fs=(bs=s.liabilities)==null?void 0:bs.currentLiabilities)==null?void 0:fs.shortTermDebt)==null?void 0:Ns.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Deferred Revenue"}),e.jsx("span",{className:"text-sm font-medium",children:t((ws=(vs=s.liabilities)==null?void 0:vs.currentLiabilities)==null?void 0:ws.deferredRevenue)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total Current Liabilities"}),e.jsx("span",{className:"text-sm font-bold",children:t((Cs=(Ts=s.liabilities)==null?void 0:Ts.currentLiabilities)==null?void 0:Cs.totalCurrentLiabilities)})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Long-term Liabilities"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Long-term Debt"}),e.jsx("span",{className:"text-sm font-medium",children:t((Ds=(Es=(As=s.liabilities)==null?void 0:As.longTermLiabilities)==null?void 0:Es.longTermDebt)==null?void 0:Ds.total)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Deferred Tax Liabilities"}),e.jsx("span",{className:"text-sm font-medium",children:t((Ls=(qs=s.liabilities)==null?void 0:qs.longTermLiabilities)==null?void 0:Ls.deferredTaxLiabilities)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Pension Liabilities"}),e.jsx("span",{className:"text-sm font-medium",children:t((Ss=(ks=s.liabilities)==null?void 0:ks.longTermLiabilities)==null?void 0:Ss.pensionLiabilities)})]}),e.jsxs("div",{className:"flex justify_between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total Long-term Liabilities"}),e.jsx("span",{className:"text-sm font-bold",children:t((Bs=(Rs=s.liabilities)==null?void 0:Rs.longTermLiabilities)==null?void 0:Bs.totalLongTermLiabilities)})]})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-red-900",children:"TOTAL LIABILITIES"}),e.jsx("span",{className:"text-lg font-bold text-red-900",children:t((Ps=s.liabilities)==null?void 0:Ps.totalLiabilities)})]})})]}),n==="equity"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Equity Breakdown"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Shareholders' Equity"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Common Stock"}),e.jsx("span",{className:"text-sm font-medium",children:t((Fs=(_s=s.equity)==null?void 0:_s.contributedCapital)==null?void 0:Fs.commonStock)})]}),e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Preferred Stock"}),e.jsx("span",{className:"text-sm font-medium",children:t(($s=(Is=s.equity)==null?void 0:Is.contributedCapital)==null?void 0:$s.preferredStock)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Additional Paid-in Capital"}),e.jsx("span",{className:"text-sm font-medium",children:t((Ms=(Gs=s.equity)==null?void 0:Gs.contributedCapital)==null?void 0:Ms.additionalPaidInCapital)})]}),e.jsxs("div",{className:"flex justify_between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total Contributed Capital"}),e.jsx("span",{className:"text-sm font-bold",children:t((Hs=(Us=s.equity)==null?void 0:Us.contributedCapital)==null?void 0:Hs.total)})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Retained Earnings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Beginning Retained Earnings"}),e.jsx("span",{className:"text-sm font-medium",children:t((zs=(Os=s.equity)==null?void 0:Os.retainedEarnings)==null?void 0:zs.beginningRetainedEarnings)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Period Earnings"}),e.jsx("span",{className:"text-sm font-medium",children:t((Ys=(Qs=s.equity)==null?void 0:Qs.retainedEarnings)==null?void 0:Ys.currentPeriodEarnings)})]}),e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dividends Paid"}),e.jsxs("span",{className:"text-sm font-medium",children:["(",t((Ks=(Js=s.equity)==null?void 0:Js.retainedEarnings)==null?void 0:Ks.dividendsPaid),")"]})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Ending Retained Earnings"}),e.jsx("span",{className:"text-sm font-bold",children:t((Vs=(Xs=s.equity)==null?void 0:Xs.retainedEarnings)==null?void 0:Vs.endingRetainedEarnings)})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-blue-900",children:"TOTAL EQUITY"}),e.jsx("span",{className:"text-lg font-bold text-blue-900",children:t((Ws=s.equity)==null?void 0:Ws.totalEquity)})]})})]}),n==="ratios"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Financial Ratios"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Liquidity Ratios"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Ratio"}),e.jsx("span",{className:"text-sm font-medium",children:(((et=(Zs=s.financialRatios)==null?void 0:Zs.liquidity)==null?void 0:et.currentRatio)||0).toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Quick Ratio"}),e.jsx("span",{className:"text-sm font-medium",children:(((tt=(st=s.financialRatios)==null?void 0:st.liquidity)==null?void 0:tt.quickRatio)||0).toFixed(2)})]}),e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Cash Ratio"}),e.jsx("span",{className:"text-sm font-medium",children:(((lt=(at=s.financialRatios)==null?void 0:at.liquidity)==null?void 0:lt.cashRatio)||0).toFixed(2)})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h5",{className:"text-md font-medium text-gray-900 mb-4",children:"Leverage Ratios"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Debt-to-Equity Ratio"}),e.jsx("span",{className:"text-sm font-medium",children:(((rt=(it=s.financialRatios)==null?void 0:it.leverage)==null?void 0:rt.debtToEquityRatio)||0).toFixed(2)})]}),e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Debt-to-Asset Ratio"}),e.jsx("span",{className:"text-sm font-medium",children:(((dt=(nt=s.financialRatios)==null?void 0:nt.leverage)==null?void 0:dt.debtToAssetRatio)||0).toFixed(2)})]}),e.jsxs("div",{className:"flex justify_between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Equity Ratio"}),e.jsx("span",{className:"text-sm font-medium",children:(((ot=(ct=s.financialRatios)==null?void 0:ct.leverage)==null?void 0:ot.equityRatio)||0).toFixed(2)})]})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>d(!0),className:"btn btn-secondary",disabled:p,children:"Update Status"}),e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]}),e.jsx("button",{onClick:l,className:"btn btn-secondary",children:"Close"})]}),b&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-60",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Update Status"}),e.jsxs("form",{onSubmit:O,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Status"}),e.jsxs("select",{value:g.status,onChange:m=>w(P=>({...P,status:m.target.value})),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0,children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"review",children:"Review"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"final",children:"Final"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),e.jsx("textarea",{value:g.notes,onChange:m=>w(P=>({...P,notes:m.target.value})),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3,placeholder:"Add any notes about this status change..."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",disabled:p,children:p?"Updating...":"Update Status"})]})]})]})})]})})},Mt=({filters:s,onFilterChange:a,isLoading:l})=>{const[r,p]=j.useState(!1),n=(d,g)=>{a({[d]:g})},y=()=>{a({status:"",periodType:"",search:"",startDate:"",endDate:"",page:1})},b=s.status||s.periodType||s.search||s.startDate||s.endDate;return e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),e.jsxs("div",{className:"flex space-x-2",children:[b&&e.jsxs("button",{onClick:y,className:"text-sm text-gray-500 hover:text-gray-700 flex items-center",children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),"Clear all"]}),e.jsxs("button",{onClick:()=>p(!r),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center",children:[e.jsx(Et,{className:"h-4 w-4 mr-1"}),r?"Hide":"Show"," advanced"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(yt,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",value:s.search,onChange:d=>n("search",d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search statement number...",disabled:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:s.status,onChange:d=>n("status",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l,children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"review",children:"Review"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"final",children:"Final"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period Type"}),e.jsxs("select",{value:s.periodType,onChange:d=>n("periodType",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l,children:[e.jsx("option",{value:"",children:"All Periods"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per Page"}),e.jsxs("select",{value:s.limit,onChange:d=>n("limit",parseInt(d.target.value)),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l,children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),r&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:s.startDate,onChange:d=>n("startDate",d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:s.endDate,onChange:d=>n("endDate",d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:l})]})]})]})]}),b&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Active Filters"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.status&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Status: ",s.status,e.jsx("button",{onClick:()=>n("status",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-blue-200",children:e.jsx(N,{className:"h-3 w-3"})})]}),s.periodType&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Period: ",s.periodType,e.jsx("button",{onClick:()=>n("periodType",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-green-200",children:e.jsx(N,{className:"h-3 w-3"})})]}),s.search&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Search: ",s.search,e.jsx("button",{onClick:()=>n("search",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-purple-200",children:e.jsx(N,{className:"h-3 w-3"})})]}),s.startDate&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["From: ",new Date(s.startDate).toLocaleDateString(),e.jsx("button",{onClick:()=>n("startDate",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-yellow-200",children:e.jsx(N,{className:"h-3 w-3"})})]}),s.endDate&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["To: ",new Date(s.endDate).toLocaleDateString(),e.jsx("button",{onClick:()=>n("endDate",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-yellow-200",children:e.jsx(N,{className:"h-3 w-3"})})]})]})]})]})})},Vt=()=>{var q,L;const[s,a]=j.useState({page:1,limit:10,status:"",periodType:"",search:"",startDate:"",endDate:""}),[l,r]=j.useState(null),[p,n]=j.useState(!1),[y,b]=j.useState(!1);bt();const{data:d,isLoading:g,error:w,refetch:o}=Rt(s,{onError:i=>{Y(i,"Fetch Balance Sheets")}}),{data:T,isLoading:A}=It({startDate:s.startDate,endDate:s.endDate},{skip:!s.startDate||!s.endDate}),{data:c}=Bt(l==null?void 0:l._id,{skip:!(l!=null&&l._id)}),[t]=_t(),[f]=Pt(),O=async i=>{try{await t(i).unwrap(),xt("Balance sheet deleted successfully"),o()}catch(u){Y(u,"Delete Balance Sheet")}},h=i=>{a(u=>({...u,...i,page:1}))},E=i=>{r({_id:i}),b(!0)};ft.useEffect(()=>{c!=null&&c.data&&r(c.data)},[c]);const z=(i,u="")=>{l&&updateStatusMutation.mutate({balanceSheetId:l._id,status:i,notes:u})},I=i=>{window.confirm("Are you sure you want to delete this balance sheet?")&&O(i)},$=i=>{switch(i){case"draft":return e.jsx(pt,{className:"h-4 w-4 text-gray-500"});case"review":return e.jsx(ht,{className:"h-4 w-4 text-yellow-500"});case"approved":return e.jsx(_,{className:"h-4 w-4 text-green-500"});case"final":return e.jsx(_,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(C,{className:"h-4 w-4 text-gray-500"})}},G=i=>{switch(i){case"draft":return"bg-gray-100 text-gray-800";case"review":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"final":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},M=i=>{switch(i){case"monthly":return"bg-blue-100 text-blue-800";case"quarterly":return"bg-green-100 text-green-800";case"yearly":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};if(g&&!d)return e.jsx(Nt,{message:"Loading balance sheets..."});const D=((q=d==null?void 0:d.data)==null?void 0:q.balanceSheets)||[],x=((L=d==null?void 0:d.data)==null?void 0:L.pagination)||{},v=(T==null?void 0:T.data)||{};return e.jsxs(vt,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Balance Sheets"}),e.jsx("p",{className:"text-gray-600",children:"Financial position and asset management"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>o(),className:"btn btn-secondary",children:[e.jsx(wt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs("button",{onClick:()=>n(!0),className:"btn btn-primary btn-md",children:[e.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Generate Balance Sheet"]})]})]}),!A&&e.jsxs(Tt,{cols:{default:1,md:2,lg:4},gap:6,children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-blue-50 text-blue-600",children:e.jsx(F,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Balance Sheets"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:v.totalStatements||0})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-green-50 text-green-600",children:e.jsx(U,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Average Total Assets"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:(v.averageTotalAssets||0).toLocaleString()})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-red-50 text-red-600",children:e.jsx(H,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Average Total Liabilities"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:(v.averageTotalLiabilities||0).toLocaleString()})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-purple-50 text-purple-600",children:e.jsx(ut,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Average Total Equity"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:(v.averageTotalEquity||0).toLocaleString()})]})})]})})})]}),e.jsx(Mt,{filters:s,onFilterChange:h,isLoading:g}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Balance Sheets"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[x.total||0," total balance sheets"]})]})}),e.jsx("div",{className:"card-content p-0",children:g?e.jsx(Ct,{rows:5,cols:7}):D.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(F,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2",children:"No balance sheets found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters or generate a new balance sheet"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statement #"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Assets"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Equity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(i=>{var u,k,S,R,B;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:i.statementNumber}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Generated ",new Date((u=i.metadata)==null?void 0:u.generatedAt).toLocaleDateString()]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:new Date(i.statementDate).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M(i.periodType)}`,children:i.periodType})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G(i.status)}`,children:[$(i.status),e.jsx("span",{className:"ml-1 capitalize",children:i.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((S=(k=i.assets)==null?void 0:k.totalAssets)==null?void 0:S.toLocaleString())||"0"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((B=(R=i.equity)==null?void 0:R.totalEquity)==null?void 0:B.toLocaleString())||"0"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>E(i._id),className:"text-blue-600 hover:text-blue-900",children:e.jsx(qt,{className:"h-4 w-4"})}),i.status==="draft"&&e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>I(i._id),className:"text-red-600 hover:text-red-900",children:e.jsx(Lt,{className:"h-4 w-4"})})})]})})]},i._id)})})]})})}),x.pages>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>h({page:x.current-1}),disabled:!x.hasPrev,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>h({page:x.current+1}),disabled:!x.hasNext,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(x.current-1)*s.limit+1})," ","to"," ",e.jsx("span",{className:"font-medium",children:Math.min(x.current*s.limit,x.total)})," ","of"," ",e.jsx("span",{className:"font-medium",children:x.total})," ","results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>h({page:x.current-1}),disabled:!x.hasPrev,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(x.pages)].map((i,u)=>e.jsx("button",{onClick:()=>h({page:u+1}),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${x.current===u+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:u+1},u+1)),e.jsx("button",{onClick:()=>h({page:x.current+1}),disabled:!x.hasNext,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),p&&e.jsx($t,{isOpen:p,onClose:()=>n(!1),onSuccess:()=>{n(!1),o()}}),y&&l&&e.jsx(Gt,{balanceSheet:l,isOpen:y,onClose:()=>{b(!1),r(null)},onStatusUpdate:z,isLoading:!1})]})};export{Vt as default};
