import{D as Z,E as he,r as N,an as ge,d as pe,p as e,ak as _,X as S,az as z,x as de,T as A,aH as Q,B as J,y as W,P as oe,C as me,S as be,H as ye,R as je,Q as fe,J as ve,K as Ne,b0 as we}from"./index-QHzcgHe1.js";import{a as ke}from"./productsApi-BS7itgd6.js";import{A as p}from"./alert-circle-Zvregbhl.js";import{H as Ce}from"./help-circle-Yi58xA3P.js";import{P as De}from"./pen-square-D_ZZfkE6.js";import{C as K}from"./check-circle-pdbRLUjc.js";import{F as Te}from"./filter-DkEczEi5.js";import{P as Se}from"./plus-wthIFHeq.js";import{E as Ae}from"./eye-D8xIUmp0.js";import{T as Fe}from"./trash-2-G7GOGhVq.js";import{X as ce}from"./x-circle-DZheaYy1.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=Z("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=Z("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=Z("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),Oe=he.injectEndpoints({endpoints:t=>({getDiscounts:t.query({query:r=>({url:"discounts",method:"get",params:r}),providesTags:r=>{var o,a;return(o=r==null?void 0:r.data)!=null&&o.discounts||r!=null&&r.discounts?[...(((a=r.data)==null?void 0:a.discounts)||r.discounts).map(({_id:j,id:i})=>({type:"Discounts",id:j||i})),{type:"Discounts",id:"LIST"}]:[{type:"Discounts",id:"LIST"}]}}),getDiscount:t.query({query:r=>({url:`discounts/${r}`,method:"get"}),providesTags:(r,o,a)=>[{type:"Discounts",id:a}]}),createDiscount:t.mutation({query:r=>({url:"discounts",method:"post",data:r}),invalidatesTags:[{type:"Discounts",id:"LIST"}]}),updateDiscount:t.mutation({query:({id:r,...o})=>({url:`discounts/${r}`,method:"put",data:o}),invalidatesTags:(r,o,{id:a})=>[{type:"Discounts",id:a},{type:"Discounts",id:"LIST"}]}),deleteDiscount:t.mutation({query:r=>({url:`discounts/${r}`,method:"delete"}),invalidatesTags:(r,o,a)=>[{type:"Discounts",id:a},{type:"Discounts",id:"LIST"}]}),toggleDiscountStatus:t.mutation({query:r=>({url:`discounts/${r}/toggle-status`,method:"put"}),invalidatesTags:(r,o,a)=>[{type:"Discounts",id:a},{type:"Discounts",id:"LIST"}]}),applyDiscount:t.mutation({query:r=>({url:"discounts/apply",method:"post",data:r}),invalidatesTags:[{type:"Discounts",id:"LIST"}]}),removeDiscount:t.mutation({query:r=>({url:"discounts/remove",method:"post",data:r}),invalidatesTags:[{type:"Discounts",id:"LIST"}]}),checkApplicableDiscounts:t.mutation({query:r=>({url:"discounts/check-applicable",method:"post",data:r})}),getDiscountByCode:t.query({query:r=>({url:`discounts/code/${r}`,method:"get"}),providesTags:(r,o,a)=>[{type:"Discounts",id:`CODE_${a}`}]}),checkCodeAvailability:t.query({query:r=>({url:`discounts/code/${r}/availability`,method:"get"})}),generateCodeSuggestions:t.mutation({query:r=>({url:"discounts/generate-code-suggestions",method:"post",data:r})}),getDiscountStats:t.query({query:r=>({url:"discounts/stats",method:"get",params:r}),providesTags:[{type:"Discounts",id:"STATS"}]}),getActiveDiscounts:t.query({query:()=>({url:"discounts/active",method:"get"}),providesTags:[{type:"Discounts",id:"ACTIVE"}]})}),overrideExisting:!1}),{useGetDiscountsQuery:Pe,useGetDiscountQuery:Ue,useCreateDiscountMutation:Le,useDeleteDiscountMutation:_e,useToggleDiscountStatusMutation:Ie,useCheckCodeAvailabilityQuery:Qe,useGenerateCodeSuggestionsMutation:qe,useGetDiscountStatsQuery:Me}=Oe,$e=({isOpen:t,onClose:r,onSuccess:o})=>{var I,ee,se,te,ae,le,ie,re,ne;const[a,j]=N.useState({name:"",description:"",code:"",type:"percentage",value:0,maximumDiscount:"",minimumOrderAmount:0,applicableTo:"all",applicableProducts:[],applicableCategories:[],applicableCustomers:[],customerTiers:[],businessTypes:[],usageLimit:"",usageLimitPerCustomer:"",validFrom:new Date().toISOString().split("T")[0],validUntil:"",combinableWithOtherDiscounts:!1,combinableDiscounts:[],priority:0,conditions:{minimumQuantity:1,maximumQuantity:"",daysOfWeek:[],timeOfDay:{start:"",end:""},firstTimeCustomersOnly:!1,returningCustomersOnly:!1}}),[i,b]=N.useState({}),[u,d]=N.useState("basic"),[C,q]=N.useState([]),[D,T]=N.useState(!1),{data:w}=ke({limit:1e3}),{data:y}=ge({limit:1e3}),{data:k}=pe({limit:1e3}),F=((I=w==null?void 0:w.data)==null?void 0:I.products)||(w==null?void 0:w.products)||[],f=((ee=y==null?void 0:y.data)==null?void 0:ee.categories)||(y==null?void 0:y.categories)||[],O=((se=k==null?void 0:k.data)==null?void 0:se.customers)||(k==null?void 0:k.customers)||[],[m,{isLoading:c}]=Le(),[G]=qe(),P=[{id:"basic",label:"Basic Info",icon:_},{id:"applicability",label:"Applicability",icon:z},{id:"conditions",label:"Conditions",icon:p},{id:"advanced",label:"Advanced",icon:Ce}],H=[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}],X=[{value:"bronze",label:"Bronze"},{value:"silver",label:"Silver"},{value:"gold",label:"Gold"},{value:"platinum",label:"Platinum"}],M=[{value:"retail",label:"Retail"},{value:"wholesale",label:"Wholesale"},{value:"distributor",label:"Distributor"}];N.useEffect(()=>{a.name&&a.type&&$()},[a.name,a.type]);const $=async()=>{var s;try{const n=await G({name:a.name,type:a.type}).unwrap();q((n==null?void 0:n.suggestions)||((s=n==null?void 0:n.data)==null?void 0:s.suggestions)||[])}catch{}},R=()=>{const s={};return a.name.trim()||(s.name="Name is required"),a.code.trim()?/^[A-Z0-9-_]+$/.test(a.code)||(s.code="Code can only contain uppercase letters, numbers, hyphens, and underscores"):s.code="Code is required",a.value<=0&&(s.value="Value must be greater than 0"),a.type==="percentage"&&a.value>100&&(s.value="Percentage cannot exceed 100%"),a.validFrom||(s.validFrom="Valid from date is required"),a.validUntil?new Date(a.validUntil)<=new Date(a.validFrom)&&(s.validUntil="Valid until date must be after valid from date"):s.validUntil="Valid until date is required",a.applicableTo==="products"&&a.applicableProducts.length===0&&(s.applicableProducts="At least one product must be selected"),a.applicableTo==="categories"&&a.applicableCategories.length===0&&(s.applicableCategories="At least one category must be selected"),a.applicableTo==="customers"&&a.applicableCustomers.length===0&&(s.applicableCustomers="At least one customer must be selected"),a.usageLimit&&a.usageLimitPerCustomer&&parseInt(a.usageLimitPerCustomer)>parseInt(a.usageLimit)&&(s.usageLimitPerCustomer="Per-customer limit cannot exceed total limit"),a.conditions.minimumQuantity&&a.conditions.maximumQuantity&&parseInt(a.conditions.minimumQuantity)>parseInt(a.conditions.maximumQuantity)&&(s.maximumQuantity="Maximum quantity cannot be less than minimum quantity"),b(s),Object.keys(s).length===0},h=async s=>{if(s.preventDefault(),!R()){d("basic");return}try{const n={...a,code:a.code.toUpperCase(),value:parseFloat(a.value),maximumDiscount:a.maximumDiscount?parseFloat(a.maximumDiscount):null,minimumOrderAmount:parseFloat(a.minimumOrderAmount),usageLimit:a.usageLimit?parseInt(a.usageLimit):null,usageLimitPerCustomer:a.usageLimitPerCustomer?parseInt(a.usageLimitPerCustomer):null,priority:parseInt(a.priority),conditions:{...a.conditions,minimumQuantity:parseInt(a.conditions.minimumQuantity),maximumQuantity:a.conditions.maximumQuantity?parseInt(a.conditions.maximumQuantity):null}};await m(n).unwrap(),J("Discount created successfully"),o()}catch(n){W(n,"Create Discount")}},x=(s,n)=>{j(g=>({...g,[s]:n})),i[s]&&b(g=>({...g,[s]:""}))},U=(s,n)=>{j(g=>({...g,conditions:{...g.conditions,[s]:n}})),i[s]&&b(g=>({...g,[s]:""}))},E=(s,n)=>{j(g=>({...g,conditions:{...g.conditions,timeOfDay:{...g.conditions.timeOfDay,[s]:n}}}))},l=(s,n,g)=>{j(V=>({...V,[s]:g?[...V[s],n]:V[s].filter(Y=>Y!==n)}))},v=s=>{j(n=>({...n,code:s})),T(!1)},{data:L}=Qe(a.code,{skip:a.code.length<3});return N.useEffect(()=>{L&&!L.available?b(s=>({...s,code:"This code is already taken"})):L&&L.available&&b(s=>{const n={...s};return n.code==="This code is already taken"&&delete n.code,n})},[L]),t?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg mr-4",children:e.jsx(_,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Create Discount"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Create a new percentage or fixed amount discount"})]})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",disabled:c,children:e.jsx(S,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:P.map(s=>{const n=s.icon;return e.jsxs("button",{onClick:()=>d(s.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${u===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(n,{className:"h-4 w-4 mr-2"}),s.label]},s.id)})})}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u==="basic"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:a.name,onChange:s=>x("name",s.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${i.name?"border-red-300":"border-gray-300"}`,placeholder:"e.g., Summer Sale 2024",disabled:c}),i.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),i.name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:a.code,onChange:s=>{const n=s.target.value.toUpperCase();x("code",n)},onFocus:()=>T(!0),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${i.code?"border-red-300":"border-gray-300"}`,placeholder:"e.g., SUMMER2024",disabled:c}),e.jsx("button",{type:"button",onClick:$,className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",disabled:c,children:e.jsx(de,{className:"h-4 w-4"})})]}),D&&C.length>0&&e.jsx("div",{className:"mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10",children:C.map((s,n)=>e.jsx("button",{type:"button",onClick:()=>v(s),className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 first:rounded-t-md last:rounded-b-md",children:s},n))}),i.code&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),i.code]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:a.description,onChange:s=>x("description",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3,placeholder:"Describe the discount...",disabled:c})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.type,onChange:s=>x("type",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:c,children:[e.jsx("option",{value:"percentage",children:"Percentage"}),e.jsx("option",{value:"fixed_amount",children:"Fixed Amount"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Value ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"relative",children:a.type==="percentage"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:a.value,onChange:s=>x("value",parseFloat(s.target.value)||0),className:`block w-full pr-10 pl-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${i.value?"border-red-300":"border-gray-300"}`,placeholder:"10",disabled:c}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx(B,{className:"h-4 w-4 text-gray-400"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(A,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:a.value,onChange:s=>x("value",parseFloat(s.target.value)||0),className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${i.value?"border-red-300":"border-gray-300"}`,placeholder:"10.00",disabled:c})]})}),i.value&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),i.value]})]})]}),a.type==="percentage"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Discount Amount (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(A,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:a.maximumDiscount,onChange:s=>x("maximumDiscount",s.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"50.00",disabled:c})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Maximum amount that can be discounted (e.g., 50 max for 20% discount)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Order Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(A,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:a.minimumOrderAmount,onChange:s=>x("minimumOrderAmount",parseFloat(s.target.value)||0),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"0.00",disabled:c})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Valid From ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:a.validFrom,onChange:s=>x("validFrom",s.target.value),className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${i.validFrom?"border-red-300":"border-gray-300"}`,disabled:c})]}),i.validFrom&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),i.validFrom]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Valid Until ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:a.validUntil,onChange:s=>x("validUntil",s.target.value),className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${i.validUntil?"border-red-300":"border-gray-300"}`,disabled:c})]}),i.validUntil&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),i.validUntil]})]})]})]}),u==="applicability"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Applicable To ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.applicableTo,onChange:s=>x("applicableTo",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:c,children:[e.jsx("option",{value:"all",children:"All Orders"}),e.jsx("option",{value:"products",children:"Specific Products"}),e.jsx("option",{value:"categories",children:"Specific Categories"}),e.jsx("option",{value:"customers",children:"Specific Customers"})]})]}),a.applicableTo==="products"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Products"}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3",children:(ae=(te=F==null?void 0:F.data)==null?void 0:te.products)==null?void 0:ae.map(s=>e.jsxs("label",{className:"flex items-center space-x-2 py-1",children:[e.jsx("input",{type:"checkbox",checked:a.applicableProducts.includes(s._id),onChange:n=>l("applicableProducts",s._id,n.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:c}),e.jsxs("span",{className:"text-sm text-gray-900",children:[s.name," (",s.category||"N/A",")"]})]},s._id))}),i.applicableProducts&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),i.applicableProducts]})]}),a.applicableTo==="categories"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Categories"}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3",children:(ie=(le=f==null?void 0:f.data)==null?void 0:le.categories)==null?void 0:ie.map(s=>e.jsxs("label",{className:"flex items-center space-x-2 py-1",children:[e.jsx("input",{type:"checkbox",checked:a.applicableCategories.includes(s._id),onChange:n=>l("applicableCategories",s._id,n.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:c}),e.jsx("span",{className:"text-sm text-gray-900",children:s.name})]},s._id))}),i.applicableCategories&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),i.applicableCategories]})]}),a.applicableTo==="customers"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Customers"}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-300 rounded-md p-3",children:(ne=(re=O==null?void 0:O.data)==null?void 0:re.customers)==null?void 0:ne.map(s=>e.jsxs("label",{className:"flex items-center space-x-2 py-1",children:[e.jsx("input",{type:"checkbox",checked:a.applicableCustomers.includes(s._id),onChange:n=>l("applicableCustomers",s._id,n.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:c}),e.jsxs("span",{className:"text-sm text-gray-900",children:[s.displayName," (",s.email,")"]})]},s._id))}),i.applicableCustomers&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),i.applicableCustomers]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Tiers (Optional)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:X.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.customerTiers.includes(s.value),onChange:n=>l("customerTiers",s.value,n.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:c}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:s.label})]},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Types (Optional)"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:M.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.businessTypes.includes(s.value),onChange:n=>l("businessTypes",s.value,n.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:c}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:s.label})]},s.value))})]})]}),u==="conditions"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Quantity"}),e.jsx("input",{type:"number",min:"1",value:a.conditions.minimumQuantity,onChange:s=>U("minimumQuantity",parseInt(s.target.value)||1),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:c})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Quantity"}),e.jsx("input",{type:"number",min:"1",value:a.conditions.maximumQuantity,onChange:s=>U("maximumQuantity",s.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${i.maximumQuantity?"border-red-300":"border-gray-300"}`,placeholder:"Leave empty for no limit",disabled:c}),i.maximumQuantity&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),i.maximumQuantity]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Days of Week (Optional)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:H.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.conditions.daysOfWeek.includes(s.value),onChange:n=>{const g=a.conditions.daysOfWeek,V=n.target.checked?[...g,s.value]:g.filter(Y=>Y!==s.value);U("daysOfWeek",V)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:c}),e.jsx("span",{className:"text-sm text-gray-900",children:s.label})]},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time of Day (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Start Time"}),e.jsx("input",{type:"time",value:a.conditions.timeOfDay.start,onChange:s=>E("start",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:c})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"End Time"}),e.jsx("input",{type:"time",value:a.conditions.timeOfDay.end,onChange:s=>E("end",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:c})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Restrictions (Optional)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.conditions.firstTimeCustomersOnly,onChange:s=>U("firstTimeCustomersOnly",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:c}),e.jsx("span",{className:"text-sm text-gray-900",children:"First-time customers only"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.conditions.returningCustomersOnly,onChange:s=>U("returningCustomersOnly",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:c}),e.jsx("span",{className:"text-sm text-gray-900",children:"Returning customers only"})]})]})]})]}),u==="advanced"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Usage Limit"}),e.jsx("input",{type:"number",min:"1",value:a.usageLimit,onChange:s=>x("usageLimit",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Leave empty for unlimited",disabled:c})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usage Limit Per Customer"}),e.jsx("input",{type:"number",min:"1",value:a.usageLimitPerCustomer,onChange:s=>x("usageLimitPerCustomer",s.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${i.usageLimitPerCustomer?"border-red-300":"border-gray-300"}`,placeholder:"Leave empty for unlimited",disabled:c}),i.usageLimitPerCustomer&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),i.usageLimitPerCustomer]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.combinableWithOtherDiscounts,onChange:s=>x("combinableWithOtherDiscounts",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:c}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Combinable with other discounts"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Allow this discount to be used together with other active discounts"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),e.jsx("input",{type:"number",min:"0",value:a.priority,onChange:s=>x("priority",parseInt(s.target.value)||0),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"0",disabled:c}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Higher numbers have higher priority when multiple discounts apply"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex space-x-2",children:[u!=="basic"&&e.jsx("button",{type:"button",onClick:()=>{const s=P.findIndex(n=>n.id===u);s>0&&d(P[s-1].id)},className:"btn btn-secondary",disabled:c,children:"Previous"}),u!=="advanced"&&e.jsx("button",{type:"button",onClick:()=>{const s=P.findIndex(n=>n.id===u);s<P.length-1&&d(P[s+1].id)},className:"btn btn-secondary",disabled:c,children:"Next"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:c,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Create Discount"})]})]})]})]})}):null},Ee=({discount:t,isOpen:r,onClose:o,onToggleStatus:a,onDelete:j,isLoading:i})=>{var q,D,T,w,y,k,F,f,O;const b=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(m||0),u=m=>new Date(m).toLocaleDateString(),d=m=>{switch(m){case"active":return e.jsx(K,{className:"h-4 w-4 text-green-500"});case"inactive":return e.jsx(p,{className:"h-4 w-4 text-gray-500"});case"scheduled":return e.jsx(me,{className:"h-4 w-4 text-blue-500"});case"expired":return e.jsx(p,{className:"h-4 w-4 text-red-500"});case"exhausted":return e.jsx(p,{className:"h-4 w-4 text-orange-500"});default:return e.jsx(p,{className:"h-4 w-4 text-gray-500"})}},C=m=>{switch(m){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"scheduled":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";case"exhausted":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return!r||!t?null:e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg mr-4",children:e.jsx(_,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Code: ",t.code," • ",t.type.replace("_"," ")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${C(t.status)}`,children:[d(t.status),e.jsx("span",{className:"ml-2 capitalize",children:t.status})]}),e.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:e.jsx(S,{className:"h-6 w-6"})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.description||"No description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Value"}),e.jsx("div",{className:"mt-1 flex items-center",children:t.type==="percentage"?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-4 w-4 text-blue-500 mr-1"}),e.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[t.value,"%"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:b(t.value)})]})}),t.maximumDiscount&&t.type==="percentage"&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",b(t.maximumDiscount)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Minimum Order Amount"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.minimumOrderAmount>0?b(t.minimumOrderAmount):"No minimum"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Priority"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.priority})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Validity Period"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Valid From"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:u(t.validFrom)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Valid Until"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:u(t.validUntil)})]})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Applicability"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Applicable To"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[t.applicableTo==="all"&&e.jsx(z,{className:"h-4 w-4 text-gray-400 mr-2"}),t.applicableTo==="products"&&e.jsx(oe,{className:"h-4 w-4 text-gray-400 mr-2"}),t.applicableTo==="categories"&&e.jsx(_,{className:"h-4 w-4 text-gray-400 mr-2"}),t.applicableTo==="customers"&&e.jsx(z,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:t.applicableTo==="all"?"All Orders":t.applicableTo})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Combinable"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.combinableWithOtherDiscounts?"Yes":"No"})]})]}),t.applicableTo==="products"&&((q=t.applicableProducts)==null?void 0:q.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Selected Products"}),e.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto",children:t.applicableProducts.map(m=>e.jsxs("div",{className:"text-sm text-gray-900 py-1",children:["• ",m.name," (",m.category||"N/A",")"]},m._id))})]}),t.applicableTo==="categories"&&((D=t.applicableCategories)==null?void 0:D.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Selected Categories"}),e.jsx("div",{className:"mt-2",children:t.applicableCategories.map(m=>e.jsxs("div",{className:"text-sm text-gray-900 py-1",children:["• ",m.name]},m._id))})]}),((T=t.customerTiers)==null?void 0:T.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Customer Tiers"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.customerTiers.map(m=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 capitalize",children:m},m))})]}),((w=t.businessTypes)==null?void 0:w.length)>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Business Types"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.businessTypes.map(m=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 capitalize",children:m},m))})]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Usage Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Total Usage"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx(A,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[t.currentUsage||0,t.usageLimit&&` / ${t.usageLimit}`]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Usage Limit Per Customer"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.usageLimitPerCustomer||"Unlimited"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Total Discount Amount"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:b(((y=t.analytics)==null?void 0:y.totalDiscountAmount)||0)})]})]}),((k=t.analytics)==null?void 0:k.lastUsed)&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Last Used"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:u(t.analytics.lastUsed)})]})]}),t.conditions&&e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Conditions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.conditions.minimumQuantity>1&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Minimum Quantity"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.conditions.minimumQuantity})]}),t.conditions.maximumQuantity&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Maximum Quantity"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.conditions.maximumQuantity})]}),((F=t.conditions.daysOfWeek)==null?void 0:F.length)>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Valid Days"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:t.conditions.daysOfWeek.map(m=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 capitalize",children:m},m))})]}),((f=t.conditions.timeOfDay)==null?void 0:f.start)&&((O=t.conditions.timeOfDay)==null?void 0:O.end)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Valid Time"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[t.conditions.timeOfDay.start," - ",t.conditions.timeOfDay.end]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>a(t._id),className:"btn btn-secondary",disabled:i,children:t.isActive?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-4 w-4 mr-2"})," Deactivate"]}):e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"h-4 w-4 mr-2"})," Activate"]})}),t.currentUsage===0&&e.jsxs("button",{onClick:()=>j(t._id),className:"btn btn-secondary text-red-600 hover:text-red-800",disabled:i,children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),e.jsx("button",{onClick:o,className:"btn btn-secondary",children:"Close"})]})]})})},Ve=({filters:t,onFilterChange:r,isLoading:o})=>{const[a,j]=N.useState(!1),i=(d,C)=>{r({[d]:C})},b=()=>{r({status:"",type:"",isActive:"",search:"",validFrom:"",validUntil:"",page:1})},u=t.status||t.type||t.isActive!==""||t.search||t.validFrom||t.validUntil;return e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),e.jsxs("div",{className:"flex space-x-2",children:[u&&e.jsxs("button",{onClick:b,className:"text-sm text-gray-500 hover:text-gray-700 flex items-center",children:[e.jsx(S,{className:"h-4 w-4 mr-1"}),"Clear all"]}),e.jsxs("button",{onClick:()=>j(!a),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center",children:[e.jsx(Te,{className:"h-4 w-4 mr-1"}),a?"Hide":"Show"," advanced"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(be,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",value:t.search,onChange:d=>i("search",d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search name, code...",disabled:o})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:t.type,onChange:d=>i("type",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o,children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"percentage",children:"Percentage"}),e.jsx("option",{value:"fixed_amount",children:"Fixed Amount"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:t.status,onChange:d=>i("status",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o,children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"expired",children:"Expired"}),e.jsx("option",{value:"exhausted",children:"Exhausted"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per Page"}),e.jsxs("select",{value:t.limit,onChange:d=>i("limit",parseInt(d.target.value)),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o,children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),a&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Advanced Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Active Status"}),e.jsxs("select",{value:t.isActive,onChange:d=>i("isActive",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o,children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Active Only"}),e.jsx("option",{value:"false",children:"Inactive Only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid From"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:t.validFrom,onChange:d=>i("validFrom",d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid Until"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:t.validUntil,onChange:d=>i("validUntil",d.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o})]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),e.jsxs("select",{value:t.sortBy,onChange:d=>i("sortBy",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o,children:[e.jsx("option",{value:"createdAt",children:"Created Date"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"code",children:"Code"}),e.jsx("option",{value:"type",children:"Type"}),e.jsx("option",{value:"value",children:"Value"}),e.jsx("option",{value:"priority",children:"Priority"}),e.jsx("option",{value:"validFrom",children:"Valid From"}),e.jsx("option",{value:"validUntil",children:"Valid Until"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),e.jsxs("select",{value:t.sortOrder,onChange:d=>i("sortOrder",d.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",disabled:o,children:[e.jsx("option",{value:"desc",children:"Descending"}),e.jsx("option",{value:"asc",children:"Ascending"})]})]})]})]}),u&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Active Filters"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.type&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[t.type==="percentage"?e.jsx(B,{className:"h-3 w-3 mr-1"}):e.jsx(A,{className:"h-3 w-3 mr-1"}),"Type: ",t.type.replace("_"," "),e.jsx("button",{onClick:()=>i("type",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-blue-200",children:e.jsx(S,{className:"h-3 w-3"})})]}),t.status&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(_,{className:"h-3 w-3 mr-1"}),"Status: ",t.status,e.jsx("button",{onClick:()=>i("status",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-green-200",children:e.jsx(S,{className:"h-3 w-3"})})]}),t.isActive!==""&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Active: ",t.isActive==="true"?"Yes":"No",e.jsx("button",{onClick:()=>i("isActive",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-purple-200",children:e.jsx(S,{className:"h-3 w-3"})})]}),t.search&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["Search: ",t.search,e.jsx("button",{onClick:()=>i("search",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-yellow-200",children:e.jsx(S,{className:"h-3 w-3"})})]}),t.validFrom&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["From: ",new Date(t.validFrom).toLocaleDateString(),e.jsx("button",{onClick:()=>i("validFrom",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-gray-200",children:e.jsx(S,{className:"h-3 w-3"})})]}),t.validUntil&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["To: ",new Date(t.validUntil).toLocaleDateString(),e.jsx("button",{onClick:()=>i("validUntil",""),className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-gray-200",children:e.jsx(S,{className:"h-3 w-3"})})]})]})]})]})})},es=()=>{var U,E;const[t,r]=N.useState({page:1,limit:10,status:"",type:"",isActive:"",search:"",validFrom:"",validUntil:"",sortBy:"createdAt",sortOrder:"desc"}),[o,a]=N.useState(null),[j,i]=N.useState(!1),[b,u]=N.useState(!1);ye();const{data:d,isLoading:C,error:q,refetch:D}=Pe(t,{onError:l=>{W(l,"Fetch Discounts")}}),{data:T,isLoading:w}=Me({startDate:t.validFrom,endDate:t.validUntil},{skip:!t.validFrom||!t.validUntil}),{data:y}=Ue(o==null?void 0:o._id,{skip:!(o!=null&&o._id)}),[k]=Ie(),[F]=_e();je.useEffect(()=>{y!=null&&y.data&&a(y.data)},[y]);const f=l=>{r(v=>({...v,...l,page:1}))},O=l=>{a({_id:l}),u(!0)},m=async l=>{var v,L;try{const I=await k(l).unwrap();J(`Discount ${(L=(v=I.data)==null?void 0:v.discount)!=null&&L.isActive?"activated":"deactivated"} successfully`),D()}catch(I){W(I,"Toggle Discount Status")}},c=async l=>{if(window.confirm("Are you sure you want to delete this discount?"))try{await F(l).unwrap(),J("Discount deleted successfully"),D()}catch(v){W(v,"Delete Discount")}},G=l=>{switch(l){case"active":return e.jsx(K,{className:"h-4 w-4 text-green-500"});case"inactive":return e.jsx(ce,{className:"h-4 w-4 text-gray-500"});case"scheduled":return e.jsx(me,{className:"h-4 w-4 text-blue-500"});case"expired":return e.jsx(ce,{className:"h-4 w-4 text-red-500"});case"exhausted":return e.jsx(p,{className:"h-4 w-4 text-orange-500"});default:return e.jsx(p,{className:"h-4 w-4 text-gray-500"})}},P=l=>{switch(l){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"scheduled":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";case"exhausted":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},H=l=>l==="percentage"?e.jsx(B,{className:"h-4 w-4 text-blue-500"}):e.jsx(A,{className:"h-4 w-4 text-green-500"}),X=l=>l==="percentage"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",M=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(l),$=l=>new Date(l).toLocaleDateString();if(C&&!d)return e.jsx(fe,{message:"Loading discounts..."});const R=((U=d==null?void 0:d.data)==null?void 0:U.discounts)||[],h=((E=d==null?void 0:d.data)==null?void 0:E.pagination)||{},x=(T==null?void 0:T.data)||{};return e.jsxs(ve,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Discount Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage percentage and fixed amount discounts"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>D(),className:"btn btn-secondary",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs("button",{onClick:()=>i(!0),className:"btn btn-primary btn-md",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Discount"]})]})]}),!w&&e.jsxs(Ne,{cols:{default:1,md:2,lg:4},gap:6,children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-blue-50 text-blue-600",children:e.jsx(_,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Discounts"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:x.totalDiscounts||0})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-green-50 text-green-600",children:e.jsx(K,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Discounts"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:x.activeDiscounts||0})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-purple-50 text-purple-600",children:e.jsx(A,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Usage"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:x.totalUsage||0})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-md bg-yellow-50 text-yellow-600",children:e.jsx(A,{className:"h-5 w-5"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Discount Amount"}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:M(x.totalDiscountAmount||0)})]})})]})})})]}),e.jsx(Ve,{filters:t,onFilterChange:f,isLoading:C}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Discounts"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[h.total||0," total discounts"]})]})}),e.jsx("div",{className:"card-content p-0",children:C?e.jsx(we,{rows:5,cols:8}):R.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(_,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2",children:"No discounts found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters or create a new discount"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valid Period"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applicable To"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(l=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",l.code]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${X(l.type)}`,children:[H(l.type),e.jsx("span",{className:"ml-1 capitalize",children:l.type.replace("_"," ")})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[l.type==="percentage"?`${l.value}%`:M(l.value),l.maximumDiscount&&l.type==="percentage"&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Max: ",M(l.maximumDiscount)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P(l.status)}`,children:[G(l.status),e.jsx("span",{className:"ml-1 capitalize",children:l.status})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsx("div",{children:l.currentUsage||0}),l.usageLimit&&e.jsxs("div",{className:"text-xs text-gray-500",children:["/ ",l.usageLimit]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsx("div",{children:$(l.validFrom)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["to ",$(l.validUntil)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[l.applicableTo==="all"&&e.jsx(z,{className:"h-4 w-4 text-gray-400"}),l.applicableTo==="products"&&e.jsx(oe,{className:"h-4 w-4 text-gray-400"}),l.applicableTo==="categories"&&e.jsx(_,{className:"h-4 w-4 text-gray-400"}),l.applicableTo==="customers"&&e.jsx(z,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"ml-1 capitalize",children:l.applicableTo})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>O(l._id),className:"text-blue-600 hover:text-blue-900",children:e.jsx(Ae,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>m(l._id),className:"text-green-600 hover:text-green-900",title:l.isActive?"Deactivate":"Activate",children:l.isActive?e.jsx(ue,{className:"h-4 w-4"}):e.jsx(xe,{className:"h-4 w-4"})}),l.currentUsage===0&&e.jsx("button",{onClick:()=>c(l._id),className:"text-red-600 hover:text-red-900",children:e.jsx(Fe,{className:"h-4 w-4"})})]})})]},l._id))})]})})}),h.pages>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>f({page:h.current-1}),disabled:!h.hasPrev,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>f({page:h.current+1}),disabled:!h.hasNext,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(h.current-1)*t.limit+1})," ","to"," ",e.jsx("span",{className:"font-medium",children:Math.min(h.current*t.limit,h.total)})," ","of"," ",e.jsx("span",{className:"font-medium",children:h.total})," ","results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>f({page:h.current-1}),disabled:!h.hasPrev,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(h.pages)].map((l,v)=>e.jsx("button",{onClick:()=>f({page:v+1}),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${h.current===v+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:v+1},v+1)),e.jsx("button",{onClick:()=>f({page:h.current+1}),disabled:!h.hasNext,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),j&&e.jsx($e,{isOpen:j,onClose:()=>i(!1),onSuccess:()=>{i(!1),D()}}),b&&o&&e.jsx(Ee,{discount:o,isOpen:b,onClose:()=>{u(!1),a(null)},onToggleStatus:m,onDelete:c,isLoading:!1})]})};export{es as default};
