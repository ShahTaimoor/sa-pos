import{E as u}from"./index-DaTQeIrM.js";const d=u.injectEndpoints({endpoints:o=>({getProducts:o.query({query:t=>{const e={};return Object.keys(t||{}).forEach(s=>{const r=t[s];r!==""&&r!==null&&r!==void 0&&(e[s]=r)}),{url:"products",method:"get",params:e}},providesTags:t=>{var s;const e=((s=t==null?void 0:t.data)==null?void 0:s.products)||(t==null?void 0:t.products)||(t==null?void 0:t.items)||[];return e.length?[...e.map(({_id:r,id:a})=>({type:"Products",id:r||a})),{type:"Products",id:"LIST"}]:[{type:"Products",id:"LIST"}]}}),getProduct:o.query({query:t=>({url:`products/${t}`,method:"get"}),providesTags:(t,e,s)=>[{type:"Products",id:s}]}),createProduct:o.mutation({query:t=>({url:"products",method:"post",data:t}),invalidatesTags:[{type:"Products",id:"LIST"}]}),updateProduct:o.mutation({query:({id:t,...e})=>({url:`products/${t}`,method:"put",data:e}),invalidatesTags:(t,e,{id:s})=>[{type:"Products",id:s},{type:"Products",id:"LIST"}]}),deleteProduct:o.mutation({query:t=>({url:`products/${t}`,method:"delete"}),invalidatesTags:(t,e,s)=>[{type:"Products",id:s},{type:"Products",id:"LIST"}]}),bulkUpdateProducts:o.mutation({query:({productIds:t,updates:e})=>({url:"products/bulk",method:"put",data:{productIds:t,updates:e}}),invalidatesTags:[{type:"Products",id:"LIST"}]}),bulkDeleteProducts:o.mutation({query:({productIds:t})=>({url:"products/bulk",method:"delete",data:{productIds:t}}),invalidatesTags:[{type:"Products",id:"LIST"}]}),searchProducts:o.query({query:t=>({url:`products/search/${encodeURIComponent(t)}`,method:"get"})}),lowStock:o.query({query:()=>({url:"products/low-stock",method:"get"}),providesTags:[{type:"Products",id:"LOW_STOCK"}]}),getLastPurchasePrice:o.query({query:t=>({url:`products/${t}/last-purchase-price`,method:"get"})}),getLastPurchasePrices:o.mutation({query:t=>({url:"products/get-last-purchase-prices",method:"post",data:t})}),linkInvestors:o.mutation({query:({productId:t,investors:e})=>({url:`products/${t}/link-investors`,method:"post",data:{investors:e}}),invalidatesTags:(t,e,{productId:s})=>[{type:"Products",id:s},{type:"Products",id:"LIST"}]}),exportCSV:o.mutation({query:t=>({url:"products/export/csv",method:"post",data:{filters:t}})}),exportExcel:o.mutation({query:t=>({url:"products/export/excel",method:"post",data:{filters:t}})}),importExcel:o.mutation({query:t=>{const e=new FormData;return e.append("file",t),{url:"products/import/excel",method:"post",data:e}},invalidatesTags:[{type:"Products",id:"LIST"}]}),importCSV:o.mutation({query:t=>{const e=new FormData;return e.append("file",t),{url:"products/import/csv",method:"post",data:e}},invalidatesTags:[{type:"Products",id:"LIST"}]}),downloadFile:o.query({query:t=>({url:`products/download/${t}`,method:"get",responseType:"blob"})}),downloadTemplate:o.query({query:()=>({url:"products/template",method:"get",responseType:"blob"})})}),overrideExisting:!1}),{useGetProductsQuery:c,useCreateProductMutation:n,useUpdateProductMutation:i,useDeleteProductMutation:m,useBulkUpdateProductsMutation:y,useBulkDeleteProductsMutation:l,useLazyGetLastPurchasePriceQuery:P,useGetLastPurchasePricesMutation:h,useLinkInvestorsMutation:g,useExportCSVMutation:T,useExportExcelMutation:q,useImportExcelMutation:v,useImportCSVMutation:L,useLazyDownloadTemplateQuery:S}=d;export{c as a,h as b,T as c,q as d,v as e,L as f,S as g,n as h,i,g as j,m as k,y as l,l as m,d as p,P as u};
