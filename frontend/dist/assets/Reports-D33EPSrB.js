import{r as b,p as e,aI as w,T,a_ as u,P as R,aA as S}from"./index-DaTQeIrM.js";import{u as C,a as F,b as O}from"./reportsApi-sHFwC3Ov.js";import{D as I}from"./download-sNUxQ2Ce.js";const Q=()=>{var m,o,h,j,N,g,p;const[a,i]=b.useState({from:new Date(Date.now()-2592e6).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}),{data:l,isLoading:v}=C({dateFrom:a.from,dateTo:a.to}),{data:r,isLoading:y}=F({dateFrom:a.from,dateTo:a.to}),{data:c,isLoading:f}=O({dateFrom:a.from,dateTo:a.to});if(v||y||f)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const t=((m=l==null?void 0:l.data)==null?void 0:m.summary)||{},n=((h=(o=r==null?void 0:r.data)==null?void 0:o.products)==null?void 0:h.slice(0,5))||[],x=((N=(j=c==null?void 0:c.data)==null?void 0:j.customers)==null?void 0:N.slice(0,5))||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),e.jsx("p",{className:"text-gray-600",children:"Analyze your business performance"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"h-4 w-4 text-gray-400"}),e.jsx("input",{type:"date",value:a.from,onChange:s=>i({...a,from:s.target.value}),className:"input"}),e.jsx("span",{className:"text-gray-500",children:"to"}),e.jsx("input",{type:"date",value:a.to,onChange:s=>i({...a,to:s.target.value}),className:"input"})]}),e.jsxs("button",{className:"btn btn-secondary btn-md",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-success-500",children:e.jsx(T,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",((g=t.totalRevenue)==null?void 0:g.toFixed(2))||"0.00"]})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary-500",children:e.jsx(u,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.totalOrders||0})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-warning-500",children:e.jsx(R,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Items Sold"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.totalItems||0})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-500",children:e.jsx(S,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",((p=t.averageOrderValue)==null?void 0:p.toFixed(2))||"0.00"]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Top Products"})}),e.jsx("div",{className:"card-content",children:n.length===0?e.jsx("p",{className:"text-gray-500",children:"No product data available"}):e.jsx("div",{className:"space-y-3",children:n.map((s,d)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",d+1]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.product.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Category: ",s.product.category||"N/A"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.totalQuantity," sold"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",s.totalRevenue.toFixed(2)]})]})]},s.product._id))})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Top Customers"})}),e.jsx("div",{className:"card-content",children:x.length===0?e.jsx("p",{className:"text-gray-500",children:"No customer data available"}):e.jsx("div",{className:"space-y-3",children:x.map((s,d)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",d+1]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.customer.displayName}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:s.customer.businessType})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.totalOrders," orders"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",s.totalRevenue.toFixed(2)]})]})]},s.customer._id))})})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sales Trend"})}),e.jsx("div",{className:"card-content",children:e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(u,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2",children:"Sales chart will be displayed here"}),e.jsx("p",{className:"text-sm",children:"Integration with charting library needed"})]})})})]})]})};export{Q as Reports};
